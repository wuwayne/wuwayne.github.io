---

layout: post

title:  "公钥、私钥与数字签名"

date:   2012-5-8 10:23:46 +0800

categories:  CS

tags:   加密 ssh

---

### 何为公钥、私钥

是密码学的一种算法，它需要两个密钥，一个是公开密钥，另一个是私有密钥；一个用作加密的时候，另一个则用作解密。使用其中一个密钥把明文加密后所得的密文，只能用相对应的另一个密钥才能解密得到原本的明文；甚至连最初用来加密的密钥也不能用作解密。由于加密和解密需要两个不同的密钥，故被称为非对称加密；不同于加密和解密都使用同一个密钥的对称加密。

虽然两个密钥在数学上相关，但如果知道了其中一个，并不能凭此计算出另外一个；因此其中一个可以公开，称为公钥，任意向外发布；不公开的密钥为私钥，必须由用户自行严格秘密保管，绝不通过任何途径向任何人提供，也不会透露给要通信的另一方，即使他被信任。

简单来说就是有2把用来加密的钥匙，一个用作加密的时候，另一个则用作解密。公开的一把叫公钥，保密的那把就叫私钥。用其中一把加密之后只能用另一把才能解密，这么神奇的算法。其中的实现似乎比较复杂，大概跟质数的运用有关，以后可以慢慢研究。

### 数字签名

如果某一用户使用他的私钥加密明文，任何人都可以用该用户的公钥解密密文；由于私钥只由该用户自己持有，故可以肯定该文件必定出自于该用户；公众可以验证该用户发布的数据或文件是否完整、中途有否曾被篡改，接收者可信赖这条信息确实来自于该用户，该用户亦无法抵赖，这被称作数字签名，大部分国家已经立法承认数字签名拥有等同传统亲笔签名的法律效力。

例如，从网上下载的安装程序，一般都带有程序制作者的数字签名，可以证明该程序的确是该作者（公司）发布的而不是第三方伪造的且未被篡改过（身份认证/验证）。而在网络银行或购物网站，一般也会使用HTTPS，避免沟通过程中的信息泄露。

### 数字证书

试想一种情况下：如果你手中的A的公钥被B掉包了，那么B就可以有自己的私钥给信息加上数字签名发给你，当你接收到的时候用你以为是A其实是B的公钥去验证，结果验证通过了，所以你以为这是A本人给你发的信息。

所以这个时候就需要用到数字证书了。"证书中心"（certificate authority，简称CA），为公钥做认证。证书中心用自己的私钥，对鲍勃的公钥和一些相关信息一起加密，生成"数字证书"（Digital Certificate）。其本质就是一个信任链。就好像网购的时候不相信对方，所以需要一个类似淘宝等的第三方交易平台。

### 对称与非对称加密

对称密钥加密牵涉到密钥管理的问题，尤其是密钥交换，它需要作者和读者在通信之前先通过另一个安全的渠道交换共用的密钥，才可以安全地把密文通过不安全的渠道发送；对称密钥一旦被窃，其所作的加密将即时失效；而在互联网，如果通信双方分隔异地而素未谋面，则对称加密事先所需要的“安全渠道”变得不可行；非对称加密则容许加密公钥随便散布，解密的私钥不发往任何用户，只在单方保管；如此，即使公钥在网上被截获，如果没有与其匹配的私钥，也无法解密，极为适合在互联网上使用。

另一方面，公钥解密的特性可以形成数字签名，使数据和文件受到保护并可信赖；如果公钥通过数字证书认证机构签授成为电子证书，更可作为数字身份的认证，这都是对称密钥加密无法实现的。

不过，公钥加密在在计算上相当复杂，性能欠佳、远远不比对称加密；因此，在一般实际情况下，往往通过公钥加密来随机创建临时的对称秘钥，亦即对话键，然后才通过对称加密来传输大量、主体的数据。

----
以上！
