---

layout: post

title:  "diff与git diff的异同"

date:   2013-8-4 +0800

categories:  git

tags:   git linux

---

### 什么是diff

diff是Unix系统的一个命令，用来比较两个文本文件的差异。一般用法：

	$diff file1 file2

具体参数可以查询```man diff ```

### diff输出格式

diff有三种输出格式

- 正常格式（normal diff）

- 上下文格式（context diff）

- 合并格式（unified diff）

git diff输出的格式是最后一种。

### 合并格式详解

![](https://ws1.sinaimg.cn/large/692c25ffgy1fr0tmacf8yj20ao05oq2z.jpg)

第一行表示结果为git格式的diff。

第二行表示两个版本的git哈希值，最后的六位数字是对象的模式（普通文件，644权限）。

"---"表示变动前的文件，"+++"表示变动后的文件。

变动的位置用两个@作为起首和结束。

前面的"-4,6"分成三个部分：减号表示第一个文件，"4"表示第4行，"6"表示连续6行。合在一起，就表示下面是第一个文件从第4行开始的连续6行。同样的，"+4,7"表示变动后，成为第二个文件从第4行开始的连续7行。

它将两个文件的上下文，合并显示在一起，所以叫做"合并格式"。每一行最前面的标志位，空表示无变动，减号表示第一个文件删除的行，加号表示第二个文件新增的行。

----
以上！